# coding: utf-8
# Here your code
stack1=[] # \????????????????????????????¨???¶
stack2=[] #???stack1???????????????????????¨??¢???????¨???¶
sum=0
for i,c in enumerate(input()):
    if c =="\\":
        stack1.append(i)
    elif c=="/":
        if stack1:
            poped = stack1.pop()
            res = i-poped
            sum += res
            while stack2 and stack2[-1][0]>poped:
                res+=stack2.pop()[1]
            stack2.append([poped,res])
    
print(sum)
print(len(stack2),*(a for j,a in stack2))